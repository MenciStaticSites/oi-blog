var e=self,t=new URL(e.location.href).searchParams,n=t.get("t"),r=t.get("404");Promise.any||(Promise.any=e=>Promise.all([...e].map((e=>new Promise(((t,n)=>Promise.resolve(e).then(n,t)))))).then((e=>Promise.reject(e)),(e=>Promise.resolve(e)))),e.addEventListener("install",(t=>{t.waitUntil(e.skipWaiting())})),e.addEventListener("fetch",(t=>{const s=new URL(t.request.url);if("GET"!==t.request.method||s.origin!==e.origin)return;const a=new Event("abortFetch"),i=new EventTarget,o=e=>{const t="function"==typeof AbortController&&new AbortController;let n=!1;t&&i.addEventListener(a.type,(()=>{n||t.abort()}));const r=e(t?t.signal:void 0);return async(...e)=>{const t=await r(...e);if(t)return n=!0,i.dispatchEvent(a),t}},l=o((e=>async()=>await fetch(t.request,{signal:e}))),c=o((e=>async()=>{const t=n+s.pathname.slice(1)+s.search,a={redirect:"follow",signal:e};let i=await fetch(t,a);if(404===i.status&&r&&(i=await fetch(n+r,a)),!i.ok)throw null;return i}));t.respondWith(Promise.any([l(),c()]))}));